{"abi":[{"type":"function","name":"OWNER_ROLE","inputs":[],"outputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"stateMutability":"view"},{"type":"function","name":"UPGRADER_ROLE","inputs":[],"outputs":[{"name":"","type":"bytes32","internalType":"bytes32"}],"stateMutability":"view"},{"type":"event","name":"InterestAccrued","inputs":[{"name":"interest","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"supplyYield","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"reserveYield","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"SharesTokenDeployed","inputs":[{"name":"sharesToken","type":"address","indexed":false,"internalType":"address"},{"name":"sharesTokenImplementation","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"error","name":"AssetNotLiquidatable","inputs":[{"name":"collateralToken","type":"address","internalType":"address"},{"name":"collateralValue","type":"uint256","internalType":"uint256"},{"name":"borrowValue","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"InsufficientCollateral","inputs":[{"name":"amount","type":"uint256","internalType":"uint256"},{"name":"expectedAmount","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"InsufficientLiquidity","inputs":[]},{"type":"error","name":"InsufficientShares","inputs":[]},{"type":"error","name":"InvalidLtv","inputs":[{"name":"ltv","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"MaxUtilizationReached","inputs":[{"name":"borrowToken","type":"address","internalType":"address"},{"name":"newUtilization","type":"uint256","internalType":"uint256"},{"name":"maxUtilization","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"MinAmountSupplyLiquidity","inputs":[{"name":"amount","type":"uint256","internalType":"uint256"},{"name":"minAmountSupplyLiquidity","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"NotFactory","inputs":[]},{"type":"error","name":"NotLendingPool","inputs":[]},{"type":"error","name":"NotLiquidable","inputs":[{"name":"user","type":"address","internalType":"address"}]},{"type":"error","name":"PositionAlreadyCreated","inputs":[]},{"type":"error","name":"TotalBorrowSharesZero","inputs":[{"name":"shares","type":"uint256","internalType":"uint256"},{"name":"totalBorrowShares","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"TotalSupplySharesZero","inputs":[{"name":"shares","type":"uint256","internalType":"uint256"},{"name":"totalSupplyShares","type":"uint256","internalType":"uint256"}]},{"type":"error","name":"ZeroAmount","inputs":[]}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{"OWNER_ROLE()":"e58378bb","UPGRADER_ROLE()":"f72c0d8b"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.30+commit.73712a01\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"address\",\"name\":\"collateralToken\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"collateralValue\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"borrowValue\",\"type\":\"uint256\"}],\"name\":\"AssetNotLiquidatable\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"expectedAmount\",\"type\":\"uint256\"}],\"name\":\"InsufficientCollateral\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InsufficientLiquidity\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"InsufficientShares\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"ltv\",\"type\":\"uint256\"}],\"name\":\"InvalidLtv\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"borrowToken\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"newUtilization\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxUtilization\",\"type\":\"uint256\"}],\"name\":\"MaxUtilizationReached\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"minAmountSupplyLiquidity\",\"type\":\"uint256\"}],\"name\":\"MinAmountSupplyLiquidity\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NotFactory\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"NotLendingPool\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"}],\"name\":\"NotLiquidable\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"PositionAlreadyCreated\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"shares\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalBorrowShares\",\"type\":\"uint256\"}],\"name\":\"TotalBorrowSharesZero\",\"type\":\"error\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"shares\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"totalSupplyShares\",\"type\":\"uint256\"}],\"name\":\"TotalSupplySharesZero\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ZeroAmount\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"interest\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"supplyYield\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"reserveYield\",\"type\":\"uint256\"}],\"name\":\"InterestAccrued\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"address\",\"name\":\"sharesToken\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"sharesTokenImplementation\",\"type\":\"address\"}],\"name\":\"SharesTokenDeployed\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"OWNER_ROLE\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"UPGRADER_ROLE\",\"outputs\":[{\"internalType\":\"bytes32\",\"name\":\"\",\"type\":\"bytes32\"}],\"stateMutability\":\"view\",\"type\":\"function\"}],\"devdoc\":{\"author\":\"Supala Labs\",\"details\":\"This contract is used to implement custom logic for the LendingPoolRouter\",\"errors\":{\"AssetNotLiquidatable(address,uint256,uint256)\":[{\"params\":{\"borrowValue\":\"The value of the borrow\",\"collateralToken\":\"The address of the collateral token\",\"collateralValue\":\"The value of the collateral\"}}],\"InsufficientCollateral(uint256,uint256)\":[{\"params\":{\"amount\":\"The actual collateral amount\",\"expectedAmount\":\"The expected collateral amount\"}}],\"MaxUtilizationReached(address,uint256,uint256)\":[{\"params\":{\"borrowToken\":\"The address of the borrow token\",\"maxUtilization\":\"The maximum allowed utilization rate\",\"newUtilization\":\"The new utilization rate\"}}],\"NotLiquidable(address)\":[{\"params\":{\"user\":\"The address of the user\"}}],\"TotalBorrowSharesZero(uint256,uint256)\":[{\"params\":{\"shares\":\"The shares being repaid\",\"totalBorrowShares\":\"The current total borrow shares (should be zero)\"}}],\"TotalSupplySharesZero(uint256,uint256)\":[{\"params\":{\"shares\":\"The shares being withdrawn\",\"totalSupplyShares\":\"The current total supply shares (should be zero)\"}}]},\"events\":{\"InterestAccrued(uint256,uint256,uint256)\":{\"params\":{\"interest\":\"The amount of interest accrued\",\"reserveYield\":\"The yield generated from reserve\",\"supplyYield\":\"The yield generated from supply\"}},\"SharesTokenDeployed(address,address)\":{\"params\":{\"sharesToken\":\"The address of the shares token\",\"sharesTokenImplementation\":\"The address of the shares token implementation\"}}},\"kind\":\"dev\",\"methods\":{},\"title\":\"LendingPoolRouterHook\",\"version\":1},\"userdoc\":{\"errors\":{\"AssetNotLiquidatable(address,uint256,uint256)\":[{\"notice\":\"Error thrown when asset is not liquidatable\"}],\"InsufficientCollateral(uint256,uint256)\":[{\"notice\":\"Error thrown when user has insufficient collateral\"}],\"InsufficientLiquidity()\":[{\"notice\":\"Error thrown when protocol has insufficient liquidity\"}],\"InsufficientShares()\":[{\"notice\":\"Error thrown when user has insufficient shares\"}],\"InvalidLtv(uint256)\":[{\"notice\":\"Error thrown when ltv is invalid\"}],\"MaxUtilizationReached(address,uint256,uint256)\":[{\"notice\":\"Error thrown when maximum utilization is reached\"}],\"NotFactory()\":[{\"notice\":\"Error thrown when caller is not the factory\"}],\"NotLendingPool()\":[{\"notice\":\"Error thrown when caller is not the lending pool\"}],\"NotLiquidable(address)\":[{\"notice\":\"Error thrown when user is not liquidatable\"}],\"PositionAlreadyCreated()\":[{\"notice\":\"Error thrown when position already exists\"}],\"TotalBorrowSharesZero(uint256,uint256)\":[{\"notice\":\"Error thrown when total borrow shares is zero\"}],\"TotalSupplySharesZero(uint256,uint256)\":[{\"notice\":\"Error thrown when total supply shares is zero\"}],\"ZeroAmount()\":[{\"notice\":\"Error thrown when amount is zero\"}]},\"events\":{\"InterestAccrued(uint256,uint256,uint256)\":{\"notice\":\"Event emitted when interest is accrued\"},\"SharesTokenDeployed(address,address)\":{\"notice\":\"Event emitted when shares token is deployed\"}},\"kind\":\"user\",\"methods\":{\"OWNER_ROLE()\":{\"notice\":\"Role identifier for accounts that have owner privileges\"},\"UPGRADER_ROLE()\":{\"notice\":\"Role identifier for accounts that can upgrade the contract\"}},\"notice\":\"A hook contract for the LendingPoolRouter\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/lib/LendingPoolRouterHook.sol\":\"LendingPoolRouterHook\"},\"evmVersion\":\"prague\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":false,\"runs\":200},\"remappings\":[\":@layerzero-devtools/=lib/devtools/packages/\",\":@layerzero-v2/=lib/LayerZero-v2/packages/layerzero-v2/\",\":@layerzerolabs/lz-evm-messagelib-v2/=lib/LayerZero-v2/packages/layerzero-v2/evm/messagelib/\",\":@layerzerolabs/lz-evm-protocol-v2/=lib/LayerZero-v2/packages/layerzero-v2/evm/protocol/\",\":@layerzerolabs/oapp-evm-upgradeable/=lib/devtools/packages/oapp-evm-upgradeable/\",\":@layerzerolabs/oapp-evm/=lib/devtools/packages/oapp-evm/\",\":@layerzerolabs/oft-evm-upgradeable/=lib/devtools/packages/oft-evm-upgradeable/\",\":@layerzerolabs/oft-evm/=lib/devtools/packages/oft-evm/\",\":@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/\",\":@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/\",\":@script/=script/\",\":@src/=src/\",\":LayerZero-v2/=lib/LayerZero-v2/\",\":devtools/=lib/devtools/packages/toolbox-foundry/src/\",\":ds-test/=lib/solidity-bytes-utils/lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts-upgradeable/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":solidity-bytes-utils/=lib/solidity-bytes-utils/\"]},\"sources\":{\"src/lib/LendingPoolRouterHook.sol\":{\"keccak256\":\"0x6cce4db07c68294b8b02ac48b25aea3e4a85c54cd801cf319789a8c0e7c276c1\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://4ba8a7d87840ced24a2ff3274a3f654a6c6ac92217d10a42c03c2cc1862156c0\",\"dweb:/ipfs/QmQ1mAJQ1yYGefNdxj6du4TysY4JEYHFsW7V4GhoSJkxFT\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.30+commit.73712a01"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"collateralToken","type":"address"},{"internalType":"uint256","name":"collateralValue","type":"uint256"},{"internalType":"uint256","name":"borrowValue","type":"uint256"}],"type":"error","name":"AssetNotLiquidatable"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"expectedAmount","type":"uint256"}],"type":"error","name":"InsufficientCollateral"},{"inputs":[],"type":"error","name":"InsufficientLiquidity"},{"inputs":[],"type":"error","name":"InsufficientShares"},{"inputs":[{"internalType":"uint256","name":"ltv","type":"uint256"}],"type":"error","name":"InvalidLtv"},{"inputs":[{"internalType":"address","name":"borrowToken","type":"address"},{"internalType":"uint256","name":"newUtilization","type":"uint256"},{"internalType":"uint256","name":"maxUtilization","type":"uint256"}],"type":"error","name":"MaxUtilizationReached"},{"inputs":[{"internalType":"uint256","name":"amount","type":"uint256"},{"internalType":"uint256","name":"minAmountSupplyLiquidity","type":"uint256"}],"type":"error","name":"MinAmountSupplyLiquidity"},{"inputs":[],"type":"error","name":"NotFactory"},{"inputs":[],"type":"error","name":"NotLendingPool"},{"inputs":[{"internalType":"address","name":"user","type":"address"}],"type":"error","name":"NotLiquidable"},{"inputs":[],"type":"error","name":"PositionAlreadyCreated"},{"inputs":[{"internalType":"uint256","name":"shares","type":"uint256"},{"internalType":"uint256","name":"totalBorrowShares","type":"uint256"}],"type":"error","name":"TotalBorrowSharesZero"},{"inputs":[{"internalType":"uint256","name":"shares","type":"uint256"},{"internalType":"uint256","name":"totalSupplyShares","type":"uint256"}],"type":"error","name":"TotalSupplySharesZero"},{"inputs":[],"type":"error","name":"ZeroAmount"},{"inputs":[{"internalType":"uint256","name":"interest","type":"uint256","indexed":false},{"internalType":"uint256","name":"supplyYield","type":"uint256","indexed":false},{"internalType":"uint256","name":"reserveYield","type":"uint256","indexed":false}],"type":"event","name":"InterestAccrued","anonymous":false},{"inputs":[{"internalType":"address","name":"sharesToken","type":"address","indexed":false},{"internalType":"address","name":"sharesTokenImplementation","type":"address","indexed":false}],"type":"event","name":"SharesTokenDeployed","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"OWNER_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"UPGRADER_ROLE","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}]}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{"OWNER_ROLE()":{"notice":"Role identifier for accounts that have owner privileges"},"UPGRADER_ROLE()":{"notice":"Role identifier for accounts that can upgrade the contract"}},"version":1}},"settings":{"remappings":["@layerzero-devtools/=lib/devtools/packages/","@layerzero-v2/=lib/LayerZero-v2/packages/layerzero-v2/","@layerzerolabs/lz-evm-messagelib-v2/=lib/LayerZero-v2/packages/layerzero-v2/evm/messagelib/","@layerzerolabs/lz-evm-protocol-v2/=lib/LayerZero-v2/packages/layerzero-v2/evm/protocol/","@layerzerolabs/oapp-evm-upgradeable/=lib/devtools/packages/oapp-evm-upgradeable/","@layerzerolabs/oapp-evm/=lib/devtools/packages/oapp-evm/","@layerzerolabs/oft-evm-upgradeable/=lib/devtools/packages/oft-evm-upgradeable/","@layerzerolabs/oft-evm/=lib/devtools/packages/oft-evm/","@openzeppelin/contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/contracts/","@openzeppelin/contracts/=lib/openzeppelin-contracts/contracts/","@script/=script/","@src/=src/","LayerZero-v2/=lib/LayerZero-v2/","devtools/=lib/devtools/packages/toolbox-foundry/src/","ds-test/=lib/solidity-bytes-utils/lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts-upgradeable/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts-upgradeable/lib/halmos-cheatcodes/src/","openzeppelin-contracts-upgradeable/=lib/openzeppelin-contracts-upgradeable/","openzeppelin-contracts/=lib/openzeppelin-contracts/","solidity-bytes-utils/=lib/solidity-bytes-utils/"],"optimizer":{"enabled":false,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/lib/LendingPoolRouterHook.sol":"LendingPoolRouterHook"},"evmVersion":"prague","libraries":{}},"sources":{"src/lib/LendingPoolRouterHook.sol":{"keccak256":"0x6cce4db07c68294b8b02ac48b25aea3e4a85c54cd801cf319789a8c0e7c276c1","urls":["bzz-raw://4ba8a7d87840ced24a2ff3274a3f654a6c6ac92217d10a42c03c2cc1862156c0","dweb:/ipfs/QmQ1mAJQ1yYGefNdxj6du4TysY4JEYHFsW7V4GhoSJkxFT"],"license":"MIT"}},"version":1},"id":232}